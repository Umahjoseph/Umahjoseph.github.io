<!DOCTYPE html>
<html>
<head>
    <title>Complete Offers to Earn</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            max-width: 800px;  /* Wider page */
            margin: 20px auto; 
            padding: 20px;
            background: #f9f9f9;
        }
        .countries-list {
            background: #e0f7fa;
            padding: 10px;
            border-radius: 8px;
            margin-bottom: 20px;
            text-align: center;
        }
        .warning {
            color: #d32f2f;
            font-weight: bold;
            margin: 15px 0;
            text-align: center;
        }
        .task-container {
            margin-bottom: 20px;
            background: #fff;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .task-link { 
            display: block; 
            margin-bottom: 8px; 
            padding: 10px; 
            background: #f0f7ff;
            color: #0066cc; 
            text-decoration: none;
            border-radius: 6px;
            font-weight: bold;
            transition: 0.3s;
        }
        .task-link:hover { 
            background: #d0e7ff; 
        }
        .task-link.clicked { 
            background: #e0ffe0; 
            color: #009933;
        }
        .task-instruction {
            font-size: 12px;
            color: #666;
            margin-top: 5px;
            padding-left: 10px;
            font-style: italic;
        }
        .timer {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 2px solid #ddd;
            border-radius: 50%;
            border-top-color: #4CAF50;
            animation: spin 1s linear infinite;
            margin-left: 10px;
            vertical-align: middle;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        #balance-section {
            background: #4CAF50;
            color: white;
            padding: 10px;
            border-radius: 6px;
            text-align: center;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-around;
            align-items: center;
        }
        #balance-amount {
            font-size: 24px;
            font-weight: bold;
        }
        #referral-section {
            background: #2196F3;
            color: white;
            padding: 10px;
            border-radius: 6px;
            margin-bottom: 20px;
        }
        #referral-link {
            background: white;
            color: #2196F3;
            padding: 5px 10px;
            border-radius: 4px;
            font-family: monospace;
            word-break: break-all;
        }
        .action-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
        }
        .action-btn {
            padding: 12px 25px;
            color: white;
            border: none;
            border-radius: 6px;
            font-weight: bold;
            cursor: pointer;
            min-width: 150px;
            text-align: center;
        }
        #withdraw-btn {
            background: #ccc;
            cursor: not-allowed;
        }
        #withdraw-btn.active {
            background: #FF5722;
            cursor: pointer;
        }
        #referral-btn {
            background: #2196F3;
        }
        #withdraw-form {
            display: none;
            margin-top: 20px;
            padding: 15px;
            background: #f0f0f0;
            border-radius: 6px;
        }
        #usdt-address {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-family: monospace;
        }
        #submit-payment {
            padding: 8px 15px;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        #status {
            margin: 15px 0;
            font-weight: bold;
            color: #555;
            text-align: center;
        }
        #geo-error {
            color: red;
            font-weight: bold;
            text-align: center;
            display: none;
        }
        .payment-proof {
            margin-top: 20px;
            border-top: 1px dashed #ccc;
            padding-top: 15px;
        }
        .proof-item {
            font-family: monospace;
            font-size: 13px;
            margin: 5px 0;
            padding: 5px;
            background: #f5f5f5;
            border-radius: 4px;
        }
        .proof-time {
            color: #666;
            font-size: 12px;
        }
        .proof-country {
            display: inline-block;
            padding: 2px 5px;
            background: #e3f2fd;
            border-radius: 3px;
            font-size: 11px;
            margin-left: 5px;
        }
    </style>
</head>
<body>
    <div id="geo-error">
        <h2>üö´ Access Restricted</h2>
        <p>This offer is only available in selected countries.</p>
    </div>

    <div id="content" style="display: none;">
        <div class="countries-list">
            <strong>Available Countries:</strong> 
            Australia, Canada, Ireland, New Zealand, South Africa, United States, United Kingdom
        </div>

        <div class="warning">
            ‚ö†Ô∏è <strong>ALL OFFERS MUST BE COMPLETED BEFORE WITHDRAWAL</strong> ‚ö†Ô∏è
        </div>

        <div id="balance-section">
            <div>
                <div>Your Balance:</div>
                <div id="balance-amount">$0</div>
            </div>
            <div>
                <div>Referral Earnings:</div>
                <div id="referral-balance">$0</div>
            </div>
        </div>

        <div id="referral-section">
            <h3>Earn $1 Per Referral!</h3>
            <p>Share your link and earn when friends complete offers:</p>
            <div id="referral-link">taskpays.github.io?ref=USER123</div>
            <button id="copy-ref-btn" style="margin-top: 10px; padding: 5px 10px; background: #0b7dda; color: white; border: none; border-radius: 4px; cursor: pointer;">Copy Link</button>
        </div>

        <h2>Complete Offers to Earn $2 Each</h2>
        <p>Click and visit all links below to unlock rewards!</p>
        
        <div id="task-links">
            <!-- Tasks will load here -->
        </div>

        <p id="status">0/11 offers completed.</p>

        <div class="action-buttons">
            <button id="withdraw-btn" class="action-btn">Withdraw USDT</button>
            <button id="referral-btn" class="action-btn">Earn From Referrals</button>
        </div>

        <div id="withdraw-form">
            <h3>Enter Your USDT (TRC20) Address</h3>
            <input type="text" id="usdt-address" placeholder="Txxxxxxxxxxxxxxxxxxxxxxxxxxxxx" required>
            <button id="submit-payment">Submit Withdrawal</button>
        </div>

        <div class="payment-proof" id="payment-proofs">
            <h3>Recent Payments Processed</h3>
            <!-- Payment proofs will appear here -->
        </div>
    </div>

    <script>
        // ===== CONFIGURATION =====
        const allowedCountries = ["AU", "CA", "IE", "NZ", "ZA", "US", "GB"];
        const countryNames = {
            "AU": "Australia",
            "CA": "Canada",
            "IE": "Ireland",
            "NZ": "New Zealand",
            "ZA": "South Africa",
            "US": "United States",
            "GB": "United Kingdom"
        };
        const rewardPerTask = 2;
        const taskTime = 20; // 20 seconds now
        const referralReward = 1;
        const referralLink = "taskpays.github.io";

        // ===== GEO-BLOCKING =====
        function getUserCountry() {
            return new Promise((resolve) => {
                // Mock: Replace with real IP API (ipapi.co)
                const mockCountry = "US"; // Test value
                resolve(mockCountry);
            });
        }

        // ===== PAYMENT PROOF GENERATOR =====
        function generateUSDTAddress() {
            const chars = "123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";
            let result = "T";
            for (let i = 0; i < 33; i++) {
                result += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            return result;
        }

        function generatePaymentProof(amount) {
            const proofContainer = document.getElementById("payment-proofs");
            const proofItem = document.createElement("div");
            proofItem.className = "proof-item";
            
            const randomCountryCode = allowedCountries[Math.floor(Math.random() * allowedCountries.length)];
            const timeAgo = Math.floor(Math.random() * 15) + 1;
            
            proofItem.innerHTML = `
                Sent ${amount} USDT to <strong>${generateUSDTAddress()}</strong>
                <span class="proof-country">${countryNames[randomCountryCode]}</span>
                <div class="proof-time">${timeAgo} minute${timeAgo !== 1 ? 's' : ''} ago</div>
            `;
            
            proofContainer.insertBefore(proofItem, proofContainer.children[1]);
            
            // Limit to 5 proofs
            if (proofContainer.children.length > 6) {
                proofContainer.removeChild(proofContainer.lastChild);
            }
        }

        // Generate initial payment proofs
        function initPaymentProofs() {
            for (let i = 0; i < 3; i++) {
                generatePaymentProof((Math.floor(Math.random() * 5) + 1) * 10);
            }
        }

        // ===== TASK SYSTEM =====
        function initTasks() {
            const tasks = [
                { name: "üî• Exclusive Deal: Claim Your Free Gift", url: "https://t.ancdu.link/140699/7164?aff_sub5=SF_006OG000004lmDN" },
                { name: "üéÅ Limited-Time Bonus Inside!", url: "https://t.ancdu.link/140699/9071/0?aff_sub5=SF_006OG000004lmDN" },
                { name: "üíé Premium Access Unlocked", url: "https://t.ancdu.link/140699/9070/0?aff_sub5=SF_006OG000004lmDN" },
                { name: "üõí Your Special Discount Awaits", url: "https://t.ancdu.link/140699/7246?aff_sub5=SF_006OG000004lmDN" },
                { name: "üì± VIP Tech Offer Inside", url: "https://t.ancdu.link/140699/9067/0?aff_sub5=SF_006OG000004lmDN" },
                { name: "ü§ë Cash Reward: Click to Claim", url: "https://t.ancdu.link/140699/7162?aff_sub5=SF_006OG000004lmDN" },
                { name: "üèÜ Elite Members Only", url: "https://t.ancdu.link/140699/9062/0?aff_sub5=SF_006OG000004lmDN" },
                { name: "üöÄ Boost Your Earnings Now", url: "https://t.ancdu.link/140699/7163?aff_sub5=SF_006OG000004lmDN" },
                { name: "üéØ Limited Slots Available!", url: "https://t.ancdu.link/140699/9064/0?aff_sub5=SF_006OG000004lmDN" },
                { name: "üí≥ Exclusive Credit Offer", url: "https://t.ancdu.link/140699/7161?aff_sub5=SF_006OG000004lmDN" },
                { name: "üõéÔ∏è Personal Concierge Access", url: "https://t.ancdu.link/140699/7809/0?aff_sub5=SF_006OG000004lmDN" }
            ];

            const clickedTasks = new Array(tasks.length).fill(false);
            const taskContainer = document.getElementById("task-links");
            const statusEl = document.getElementById("status");
            const balanceEl = document.getElementById("balance-amount");
            const referralBalanceEl = document.getElementById("referral-balance");
            const withdrawBtn = document.getElementById("withdraw-btn");
            let balance = 0;
            let referralBalance = 0;
            let completedTasks = 0;

            // Set referral link
            document.getElementById("referral-link").textContent = referralLink + "?ref=" + Math.random().toString(36).substring(2, 8).toUpperCase();

            // Copy referral link
            document.getElementById("copy-ref-btn").addEventListener("click", function() {
                const link = document.getElementById("referral-link").textContent;
                navigator.clipboard.writeText(link);
                this.textContent = "Copied!";
                setTimeout(() => {
                    this.textContent = "Copy Link";
                }, 2000);
            });

            // Render Tasks
            tasks.forEach((task, index) => {
                const taskDiv = document.createElement("div");
                taskDiv.className = "task-container";
                
                const taskLink = document.createElement("a");
                taskLink.href = task.url;
                taskLink.target = "_blank";
                taskLink.className = "task-link";
                taskLink.textContent = task.name;
                
                const timerSpan = document.createElement("span");
                timerSpan.className = "timer";
                timerSpan.style.display = "none";
                
                const instruction = document.createElement("div");
                instruction.className = "task-instruction";
                instruction.textContent = '(Enter your email address and click on "UNLOCK MY MATCHES" or "SIGNUP")';
                
                taskLink.onclick = () => {
                    if (!clickedTasks[index]) {
                        // Show timer
                        timerSpan.style.display = "inline-block";
                        
                        // Start countdown (20 seconds now)
                        setTimeout(() => {
                            clickedTasks[index] = true;
                            taskLink.classList.add("clicked");
                            timerSpan.style.display = "none";
                            
                            // Update balance and progress
                            balance += rewardPerTask;
                            balanceEl.textContent = `$${balance}`;
                            completedTasks++;
                            updateProgress();
                            
                        }, taskTime * 1000);
                    }
                };
                
                taskDiv.appendChild(taskLink);
                taskDiv.appendChild(timerSpan);
                taskDiv.appendChild(instruction);
                taskContainer.appendChild(taskDiv);
            });

            // Update progress
            function updateProgress() {
                statusEl.textContent = `${completedTasks}/${tasks.length} offers completed.`;
                
                // Enable withdraw button when all tasks done
                if (completedTasks === tasks.length) {
                    withdrawBtn.classList.add("active");
                    withdrawBtn.style.cursor = "pointer";
                }
            }

            // Withdraw system
            withdrawBtn.addEventListener("click", function() {
                if (this.classList.contains("active")) {
                    document.getElementById("withdraw-form").style.display = "block";
                }
            });

            document.getElementById("submit-payment").addEventListener("click", () => {
                const usdtAddress = document.getElementById("usdt-address").value;
                if (!usdtAddress.startsWith("T") || usdtAddress.length !== 34) {
                    alert("Please enter a valid USDT (TRC20) address starting with T");
                    return;
                }
                
                const totalAmount = balance + referralBalance;
                alert(`Withdrawal request for $${totalAmount} USDT submitted to:\n${usdtAddress}`);
                generatePaymentProof(totalAmount);
                
                // Reset system
                balance = 0;
                referralBalance = 0;
                balanceEl.textContent = "$0";
                referralBalanceEl.textContent = "$0";
                document.getElementById("withdraw-form").style.display = "none";
                document.getElementById("usdt-address").value = "";
                withdrawBtn.classList.remove("active");
                withdrawBtn.style.cursor = "not-allowed";
                completedTasks = 0;
                updateProgress();
                
                // Reset all tasks
                document.querySelectorAll(".task-link").forEach(link => {
                    link.classList.remove("clicked");
                });
                clickedTasks.fill(false);
            });
        }

        // Initialize
        window.onload = async () => {
            const userCountry = await getUserCountry();
            if (allowedCountries.includes(userCountry)) {
                document.getElementById("content").style.display = "block";
                initTasks();
                initPaymentProofs();
            } else {
                document.getElementById("geo-error").style.display = "block";
            }
        };
    </script>
</body>
</html>