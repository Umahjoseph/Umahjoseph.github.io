<!DOCTYPE html>
<html>
<head>
    <title>Earn Rewards</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            max-width: 600px; 
            margin: 20px auto; 
            padding: 20px;
            background: #f9f9f9;
        }
        .task-link { 
            display: block; 
            margin: 10px 0; 
            padding: 12px; 
            background: #fff;
            border: 1px solid #ddd;
            color: #0066cc; 
            text-decoration: none;
            border-radius: 6px;
            font-weight: bold;
            transition: 0.3s;
        }
        .task-link:hover { 
            background: #f0f7ff; 
            border-color: #0066cc;
        }
        .task-link.clicked { 
            background: #e0ffe0; 
            color: #009933;
            border-color: #009933;
        }
        #balance-section {
            background: #4CAF50;
            color: white;
            padding: 10px;
            border-radius: 6px;
            text-align: center;
            margin-bottom: 20px;
        }
        #balance-amount {
            font-size: 24px;
            font-weight: bold;
        }
        #withdraw-btn {
            display: block;
            margin: 20px auto;
            padding: 12px 25px;
            background: #FF5722;
            color: white;
            border: none;
            border-radius: 6px;
            font-weight: bold;
            cursor: pointer;
        }
        #withdraw-form {
            display: none;
            margin-top: 20px;
            padding: 15px;
            background: #f0f0f0;
            border-radius: 6px;
        }
        #paypal-email {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        #submit-payment {
            padding: 8px 15px;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        #status {
            margin: 15px 0;
            font-weight: bold;
            color: #555;
        }
        #geo-error {
            color: red;
            font-weight: bold;
            text-align: center;
            display: none;
        }
    </style>
</head>
<body>
    <div id="geo-error">
        <h2>ðŸš« Access Restricted</h2>
        <p>This offer is only available in Australia, Canada, Ireland, New Zealand, South Africa, USA, and UK.</p>
    </div>

    <div id="content" style="display: none;">
        <div id="balance-section">
            <div>Your Balance:</div>
            <div id="balance-amount">$0</div>
        </div>

        <h2>Complete Offers to Earn $10 Each</h2>
        <p>Click and visit all links below to unlock rewards!</p>
        
        <div id="task-links">
            <!-- Links will load here -->
        </div>

        <p id="status">0/11 offers completed.</p>

        <button id="withdraw-btn">Withdraw Earnings</button>

        <div id="withdraw-form">
            <h3>Enter PayPal Email</h3>
            <input type="email" id="paypal-email" placeholder="your@paypal.com" required>
            <button id="submit-payment">Submit Payment</button>
        </div>
    </div>

    <script>
        // ===== GEO-BLOCKING =====
        const allowedCountries = ["AU", "CA", "IE", "NZ", "ZA", "US", "GB"];
        
        // Simulate fetching user's country (in real use, replace with an API call)
        function getUserCountry() {
            return new Promise((resolve) => {
                // Mock: Replace this with a real IP API (e.g., ipapi.co)
                const mockCountry = "US"; // Test value (change to test restrictions)
                resolve(mockCountry);
            });
        }

        // Check access on page load
        window.onload = async () => {
            const userCountry = await getUserCountry();
            if (allowedCountries.includes(userCountry)) {
                document.getElementById("content").style.display = "block";
                initTasks();
            } else {
                document.getElementById("geo-error").style.display = "block";
            }
        };

        // ===== TASK & BALANCE SYSTEM =====
        function initTasks() {
            // Renamed marketing links (no "task" labels)
            const tasks = [
                { name: "ðŸ”¥ Exclusive Deal: Claim Your Free Gift", url: "https://t.ancdu.link/140699/7164?aff_sub5=SF_006OG000004lmDN" },
                { name: "ðŸŽ Limited-Time Bonus Inside!", url: "https://t.ancdu.link/140699/9071/0?aff_sub5=SF_006OG000004lmDN" },
                { name: "ðŸ’Ž Premium Access Unlocked", url: "https://t.ancdu.link/140699/9070/0?aff_sub5=SF_006OG000004lmDN" },
                { name: "ðŸ›’ Your Special Discount Awaits", url: "https://t.ancdu.link/140699/7246?aff_sub5=SF_006OG000004lmDN" },
                { name: "ðŸ“± VIP Tech Offer Inside", url: "https://t.ancdu.link/140699/9067/0?aff_sub5=SF_006OG000004lmDN" },
                { name: "ðŸ¤‘ Cash Reward: Click to Claim", url: "https://t.ancdu.link/140699/7162?aff_sub5=SF_006OG000004lmDN" },
                { name: "ðŸ† Elite Members Only", url: "https://t.ancdu.link/140699/9062/0?aff_sub5=SF_006OG000004lmDN" },
                { name: "ðŸš€ Boost Your Earnings Now", url: "https://t.ancdu.link/140699/7163?aff_sub5=SF_006OG000004lmDN" },
                { name: "ðŸŽ¯ Limited Slots Available!", url: "https://t.ancdu.link/140699/9064/0?aff_sub5=SF_006OG000004lmDN" },
                { name: "ðŸ’³ Exclusive Credit Offer", url: "https://t.ancdu.link/140699/7161?aff_sub5=SF_006OG000004lmDN" },
                { name: "ðŸ›Žï¸ Personal Concierge Access", url: "https://t.ancdu.link/140699/7809/0?aff_sub5=SF_006OG000004lmDN" }
            ];

            const clickedTasks = new Array(tasks.length).fill(false);
            const taskContainer = document.getElementById("task-links");
            const statusEl = document.getElementById("status");
            const balanceEl = document.getElementById("balance-amount");
            let balance = 0;

            // Render Links
            tasks.forEach((task, index) => {
                const taskLink = document.createElement("a");
                taskLink.href = task.url;
                taskLink.target = "_blank";
                taskLink.className = "task-link";
                taskLink.textContent = task.name;
                taskLink.onclick = () => {
                    if (!clickedTasks[index]) {
                        clickedTasks[index] = true;
                        taskLink.classList.add("clicked");
                        balance += 10;
                        balanceEl.textContent = `$${balance}`;
                        updateProgress();
                    }
                };
                taskContainer.appendChild(taskLink);
            });

            // Track Progress
            function updateProgress() {
                const completed = clickedTasks.filter(Boolean).length;
                statusEl.textContent = `${completed}/${tasks.length} offers completed.`;
            }

            // Withdraw Button Logic
            document.getElementById("withdraw-btn").addEventListener("click", () => {
                document.getElementById("withdraw-form").style.display = "block";
            });

            document.getElementById("submit-payment").addEventListener("click", () => {
                const paypalEmail = document.getElementById("paypal-email").value;
                if (!paypalEmail.includes("@") || !paypalEmail.includes(".")) {
                    alert("Please enter a valid PayPal email.");
                    return;
                }
                alert(`Payment submitted to ${paypalEmail}!`);
                // In a real app, send this to your backend for processing
            });
        }
    </script>
</body>
</html>